"use strict";(self.webpackChunkdocumentation_api=self.webpackChunkdocumentation_api||[]).push([[119],{5680:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>d});var a=n(6540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),g=p(n),u=o,d=g["".concat(s,".").concat(u)]||g[u]||m[u]||i;return n?a.createElement(d,r(r({ref:t},c),{},{components:n})):a.createElement(d,r({ref:t},c))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[g]="string"==typeof e?e:o,r[1]=l;for(var p=2;p<i;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5647:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(8168),o=(n(6540),n(5680));const i={},r="Configuration and Usage",l={unversionedId:"documentation-api/Document Generation Module/mobee-document-configuration",id:"documentation-api/Document Generation Module/mobee-document-configuration",title:"Configuration and Usage",description:"User Profile Requirements and Permissions",source:"@site/docs/documentation-api/3 - Document Generation Module/3 - mobee-document-configuration.md",sourceDirName:"documentation-api/3 - Document Generation Module",slug:"/documentation-api/Document Generation Module/mobee-document-configuration",permalink:"/documentation/docs/documentation-api/Document Generation Module/mobee-document-configuration",draft:!1,editUrl:"https://github.com/Mobee-App/documentation/blob/main/docs/documentation-api/3 - Document Generation Module/3 - mobee-document-configuration.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Template Types and Syntax",permalink:"/documentation/docs/documentation-api/Document Generation Module/mobee-document-types"},next:{title:"Community Supported Features",permalink:"/documentation/docs/documentation-api/Community/Community Supported Features"}},s={},p=[{value:"User Profile Requirements and Permissions",id:"user-profile-requirements-and-permissions",level:2},{value:"Retrieve and Reset Document Generation Token",id:"retrieve-and-reset-document-generation-token",level:2},{value:"Access Authorization",id:"access-authorization",level:2},{value:"Mobee Document Generator External Credential Setup",id:"mobee-document-generator-external-credential-setup",level:3},{value:"Setup External Credentials",id:"setup-external-credentials",level:3},{value:"Creating a Document Template",id:"creating-a-document-template",level:2},{value:"Generate Documents from Template",id:"generate-documents-from-template",level:2},{value:"Lightning Web Component",id:"lightning-web-component",level:3},{value:"Action Button",id:"action-button",level:3},{value:"List View Button",id:"list-view-button",level:3},{value:"Apex Client",id:"apex-client",level:3},{value:"Compress PDF",id:"compress-pdf",level:2},{value:"Usage",id:"usage",level:3},{value:"Apex Client",id:"apex-client-1",level:3}],c={toc:p},g="wrapper";function m(e){let{components:t,...i}=e;return(0,o.yg)(g,(0,a.A)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"configuration-and-usage"},"Configuration and Usage"),(0,o.yg)("h2",{id:"user-profile-requirements-and-permissions"},"User Profile Requirements and Permissions"),(0,o.yg)("p",null,"To utilize the module, users must meet the following prerequisites:"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Possession of a Mobee license."),(0,o.yg)("li",{parentName:"ul"},'Assignment of either the "Mobee User" or "Mobee Administrator" permission set.'),(0,o.yg)("li",{parentName:"ul"},"Enable User External Credentials Through User Profiles if needed.")),(0,o.yg)("h2",{id:"retrieve-and-reset-document-generation-token"},"Retrieve and Reset Document Generation Token"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Open the Mobee Settings by navigating to the ",(0,o.yg)("strong",{parentName:"p"},"App Launcher")," and searching for ",(0,o.yg)("strong",{parentName:"p"},"Mobee Settings"),".")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},'Click on "Mobee Settings" in the "Items" section.'))),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(8540).A,width:"455",height:"513"})),(0,o.yg)("ol",{start:3},(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},'In Mobee Settings, navigate to the "Document Generation" tab.')),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Within the \"Document Generation\" tab, you will find Your Organization Token if your Organization is subscribed to the Mobee Document Generation service. Utilize this token to authorize your access to the document generation. You can click on the button to the left of the 'Reset Button' to copy the token to your clipboard or select and copy it."))),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(8398).A,width:"1903",height:"229"})),(0,o.yg)("p",null,'If you need to reset the token, locate the "Reset Token" button on the right. Clicking this button will allow you to generate a new token for your Organization.'),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(2991).A,width:"1903",height:"229"})),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Note:")," Make sure to update the token in the ",(0,o.yg)("a",{parentName:"p",href:"#access-authorization"},"Custom Headers")," when you reset it in the Mobee Settings."),(0,o.yg)("h2",{id:"access-authorization"},"Access Authorization"),(0,o.yg)("p",null,"Mobee's document generation relies on an external service, making authorization vital for security. By employing Token authentication, only authenticated entities can access the service, eliminating the risk of unauthorized use and ensuring robust protection against data breaches."),(0,o.yg)("h3",{id:"mobee-document-generator-external-credential-setup"},"Mobee Document Generator External Credential Setup"),(0,o.yg)("p",null,"This section outlines a step-by-step guide on how to set up external credentials for Mobee Document Generator, including creating a custom authentication protocol, adding parameters, custom headers, and integrating with Uprizon for authentication."),(0,o.yg)("h3",{id:"setup-external-credentials"},"Setup External Credentials"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Open the external credentials management interface by navigating to ",(0,o.yg)("strong",{parentName:"li"},"Setup")," > ",(0,o.yg)("strong",{parentName:"li"},"Security")," > ",(0,o.yg)("strong",{parentName:"li"},"Named Credentials"),".")),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(2399).A,width:"800",height:"209"})),(0,o.yg)("ol",{start:2},(0,o.yg)("li",{parentName:"ol"},'Click on the "External Credentials" tab.')),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(1416).A,width:"800",height:"227"})),(0,o.yg)("ol",{start:3},(0,o.yg)("li",{parentName:"ol"},'Locate the external credential with the label "Document Generation External Credentials" and click on it.')),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(3860).A,width:"800",height:"227"})),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(2730).A,width:"800",height:"673"})),(0,o.yg)("ol",{start:4},(0,o.yg)("li",{parentName:"ol"},'In the "Document Generation External Credentials," find the ',(0,o.yg)("strong",{parentName:"li"},"Custom Headers"),' with the Name "Authorization", click on the arrow on the right and select "Edit".')),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(5552).A,width:"800",height:"121"})),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(6478).A,width:"800",height:"124"})),(0,o.yg)("ol",{start:5},(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"Inside the Custom Headers Window, Add The Token To The Custom Header:"),(0,o.yg)("p",{parentName:"li"},"Replace the ",(0,o.yg)("strong",{parentName:"p"},"Value")," by the ",(0,o.yg)("a",{parentName:"p",href:"#retrieve-and-reset-document-generation-token"},"token")," provided by in the Mobee Settings Page:"),(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Name:")," Authorization"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Value:")," Bearer ","[Token provided by Mobee]")),(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Note:"),' Before saving, ensure that the token has the "Bearer " prefix. If not, add the prefix with a trailing space at the end. '),(0,o.yg)("p",{parentName:"li"},"For example: If the token is ",(0,o.yg)("inlineCode",{parentName:"p"},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"),", make it: ",(0,o.yg)("inlineCode",{parentName:"p"},"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c")),(0,o.yg)("p",{parentName:"li"},'Click on "Save" to save the custom header.'))),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(1328).A,width:"800",height:"353"})),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Note:")," Make sure to update the token in the ",(0,o.yg)("a",{parentName:"p",href:"#access-authorization"},"Custom Headers")," when you reset it in the Mobee Settings."),(0,o.yg)("h2",{id:"creating-a-document-template"},"Creating a Document Template"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Navigate to the ",(0,o.yg)("strong",{parentName:"li"},"Mobee Documents Templates")," Salesforce Tab to initiate the creation of a new template."),(0,o.yg)("li",{parentName:"ol"},'Click on the "',(0,o.yg)("strong",{parentName:"li"},"New"),'" button and furnish a suitable name for the template.')),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Alt text",src:n(3750).A,width:"1009",height:"553"})),(0,o.yg)("p",null,"After the successful creation of the template, the next step involves associating it with a specific Salesforce object. Follow the steps below:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Access the newly created template by selecting its name from the list."),(0,o.yg)("li",{parentName:"ol"},'Within the initial section, click the "',(0,o.yg)("strong",{parentName:"li"},"Choose Main Object"),'" button located on the right.'),(0,o.yg)("li",{parentName:"ol"},"Utilize the lookup search field to designate the desired main object."),(0,o.yg)("li",{parentName:"ol"},"Opt for a Salesforce field on the selected object to serve as the naming convention for the generated file. Supported types include text fields and formulas. The ",(0,o.yg)("strong",{parentName:"li"},"Name")," field is selected by default.")),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(3222).A,width:"1016",height:"509"})),(0,o.yg)("ol",{start:5},(0,o.yg)("li",{parentName:"ol"},'After the selection of the main object and naming field, proceed to upload your Word document template by selecting the "',(0,o.yg)("strong",{parentName:"li"},"Upload"),'" button. Please note that only files with the ',(0,o.yg)("inlineCode",{parentName:"li"},".docx")," extension are supported.")),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(9551).A,width:"1016",height:"707"})),(0,o.yg)("h2",{id:"generate-documents-from-template"},"Generate Documents from Template"),(0,o.yg)("p",null,"Mobee offers a range of options to facilitate document generation tailored to your specific requirements. The package encompasses pre-built components ready for immediate use, seamlessly integratable into your pages. Moreover, Mobee provides functionalities allowing you to customize your entire document generation processes using Lightning or even Apex."),(0,o.yg)("h3",{id:"lightning-web-component"},"Lightning Web Component"),(0,o.yg)("p",null,"For manual document generation within a screen, Mobee presents a fundamental Lightning Web Component designed to generate documents for the current record based on a specified template ID."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Below are the component parameters:")),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Document Generation Lightning Web Component",src:n(6442).A,width:"764",height:"480"})),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Current Record Id:")," When placed on a record page, this parameter can be left empty, as it automatically detects the ID of the current record.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Multiple Record Ids (Comma Separated):")," This parameter can be left empty when generating unitary documents and will be used for combined document templates later.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Attach to Record:")," A flag indicating whether the user wishes to attach the generated document to the Notes & Attachments of the current record. If unchecked, the document will be automatically downloaded.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Current Object API Name:")," When placed on a record page, this parameter can be left empty, as it automatically detects the object API Name of the current record.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Selected Template Id:")," Informs the component about the template to be used for the generation.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Show Generate Button:")," A flag indicating whether a physical button is desired to trigger the generation. If unchecked, document generation will be triggered upon loading the page containing the component.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("strong",{parentName:"p"},"Output Format:")," This parameter indicates the desired format for the generated file. Mobee currently supports ",(0,o.yg)("inlineCode",{parentName:"p"},"docx")," and ",(0,o.yg)("inlineCode",{parentName:"p"},"pdf"),"."))),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Usage:")),(0,o.yg)("p",null,"This component is suitable for use in both ",(0,o.yg)("strong",{parentName:"p"},'"Record Lightning Pages"')," and ",(0,o.yg)("strong",{parentName:"p"},'"Flow Screens."')," To harness the full capabilities of this component, it is recommended to use it in ",(0,o.yg)("strong",{parentName:"p"},"Flow Screens"),". Leveraging Flow's flexibility enables dynamic fetching of the desired template based on specific search criteria, providing a dynamic parameter to the component, and avoiding the inclusion of parameters in hard text."),(0,o.yg)("p",null,"Here's an example of its usage in a Screen Flow."),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Screen Flow LWC",src:n(9850).A,width:"1114",height:"660"})),(0,o.yg)("h3",{id:"action-button"},"Action Button"),(0,o.yg)("p",null,"The Mobee package seamlessly integrates with Salesforce record pages, providing an out-of-the-box Flow that can be effortlessly added as an action button."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Creating the Action Button:")),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Navigate to the object manager and select the object where you want the generation button to be available."),(0,o.yg)("li",{parentName:"ol"},'Go to the "Buttons, Links, and Actions" section and click on the "New Action" button.'),(0,o.yg)("li",{parentName:"ol"},'Choose the "Lightning Web Component" option for the "Action Type," and select "Mobee:documentGeneratorAction" for the "Lightning Web Component."')),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Add Action Button",src:n(400).A,width:"512",height:"506"})),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Adding the Action Button to a Page Layout:")),(0,o.yg)("p",null,'Once the action button is created, follow these steps to add it to a desired "Page Layout."'),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},'Open the "Page Layouts" section from the object manager and select the desired page where you want to add your button.'),(0,o.yg)("li",{parentName:"ol"},'Locate your newly created button in the "Mobile & Lightning Actions" Section.'),(0,o.yg)("li",{parentName:"ol"},'Drag the button and drop it into the "Salesforce Mobile and Lightning Experience Action" section.')),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(1028).A,width:"512",height:"391"})),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Utilizing the Added Button:")),(0,o.yg)("p",null,"To utilize the added button, follow these steps:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Navigate to a record of the same object type as the created document template."),(0,o.yg)("li",{parentName:"ol"},'Click the "Generate Document" action button.'),(0,o.yg)("li",{parentName:"ol"},"Select the desired template from the provided selection list."),(0,o.yg)("li",{parentName:"ol"},"The document will be generated and automatically downloaded.")),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"Sample Image",src:n(1831).A,width:"512",height:"506"})),(0,o.yg)("h3",{id:"list-view-button"},"List View Button"),(0,o.yg)("p",null,"Similar to the aforementioned action button, Mobee extends its functionality by offering a Flow that can be invoked from list view buttons. This feature emphasizes the capability to generate documents for multiple records simultaneously."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Creating a List View Button:")),(0,o.yg)("p",null,"Follow these steps to create the button:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Prepare a template to be used on the desired main object."),(0,o.yg)("li",{parentName:"ol"},"From the Setup screen, select the desired main object."),(0,o.yg)("li",{parentName:"ol"},'Go to the "Buttons, Links, and Actions" section.'),(0,o.yg)("li",{parentName:"ol"},'Click on the top-right "New Button or Link" button.'),(0,o.yg)("li",{parentName:"ol"},"Complete the required Label and Name input fields."),(0,o.yg)("li",{parentName:"ol"},'Select List Button from the "Display Type" and ensure that the "Display Checkboxes (for Multi-Record Selection)" option is checked.'),(0,o.yg)("li",{parentName:"ol"},"In the formula text area, input the following path and replace the template ID with your desired template: ",(0,o.yg)("inlineCode",{parentName:"li"},"/flow/Mobee__ListViewDocumentGenerator?templateId=a057Q000005Yd7BQAS&attachToRecord=false&outputFormat=pdf"))),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"List View Button",src:n(935).A,width:"1203",height:"761"})),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Adding the Button to the List View:")),(0,o.yg)("p",null,"To add the button to the list view, follow these steps:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},'From the "Object Manager", access the "',(0,o.yg)("strong",{parentName:"li"},"List View Button Layout"),'" section.'),(0,o.yg)("li",{parentName:"ol"},'For the list view layout, click the dropdown button on the right and select "Edit."'),(0,o.yg)("li",{parentName:"ol"},'In the List View Editor, find your button in the "Custom Buttons" section and add it to the Selected Buttons List.'),(0,o.yg)("li",{parentName:"ol"},"Click on Save.")),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Utilizing the Added Button:")),(0,o.yg)("p",null,"To utilize the list view button, follow these steps:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Go to the object list view."),(0,o.yg)("li",{parentName:"ol"},"Select your desired records by clicking on the checkbox on each line."),(0,o.yg)("li",{parentName:"ol"},"Locate your button in the button list in the top actions section."),(0,o.yg)("li",{parentName:"ol"},"Click on the button, which will open the flow in a new page and generate the documents.")),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Note:"),' This "Custom Button" can also be used for ',(0,o.yg)("strong",{parentName:"p"},"Related List Views"),"."),(0,o.yg)("h3",{id:"apex-client"},"Apex Client"),(0,o.yg)("p",null,"Document generation is not always a user-triggered functionality; at times, there's a need to generate documents from triggers, jobs, and other automated processes. To facilitate this, Mobee provides an Apex function that enables seamless document generation tailored to specific requirements."),(0,o.yg)("p",null,"The function is accessible within the Mobee package by invoking the ",(0,o.yg)("inlineCode",{parentName:"p"},"Mobee.DocumentTemplaterController.generateDocuments")," function."),(0,o.yg)("p",null,"Similar to the Lightning Web Component, this Apex function takes four parameters as input:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"A list of Salesforce record IDs for which documents need to be generated. (It can be a list containing a single ID)"),(0,o.yg)("li",{parentName:"ol"},"The Mobee Document Template ID to be used as the template for the generation."),(0,o.yg)("li",{parentName:"ol"},"The desired output format (",(0,o.yg)("inlineCode",{parentName:"li"},"docx")," or ",(0,o.yg)("inlineCode",{parentName:"li"},"pdf"),")."),(0,o.yg)("li",{parentName:"ol"},"A flag indicating whether to attach the generated file to the given record.")),(0,o.yg)("p",null,"This function returns a ",(0,o.yg)("inlineCode",{parentName:"p"},"Map")," containing the generated file as ",(0,o.yg)("inlineCode",{parentName:"p"},"Blob")," indexed by their respective record IDs."),(0,o.yg)("p",null,"Here's an example of utilizing this Apex function:"),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Context:")," In this example, the Mobee Template Main Object is the ",(0,o.yg)("inlineCode",{parentName:"p"},"Application__c")," custom object, and the template Id is stored in the ",(0,o.yg)("inlineCode",{parentName:"p"},"ContractTemplate__c")," lookup field, which is on the parent field ",(0,o.yg)("inlineCode",{parentName:"p"},"Sector__c"),"."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-java"},"public class DocumentGeneration {\n    @Future(callout=true)\n    public static void generateContract(String applicationId) {\n        String OUTPUT_FORMAT = 'pdf';\n        Application__c application = [SELECT Id, Sector__c.ContractTemplate__c FROM Application__c WHERE Id = :applicationId];\n        if (application.Sector__c.ContractTemplate__c == null) {\n            throw new Mobee.DocumentGenerationException('Template is not defined on this Sector.');\n        }\n        Map<Id, Blob> generatedDocuments;\n        if (Test.isRunningTest()) {\n            generatedDocuments = generateDocumentMock(new List<Id>{applicationId});\n        } else {\n            generatedDocuments = Mobee.DocumentTemplaterController.generateDocuments(\n                // recordsIds\n                new List<String>{applicationId},\n                // templateId\n                application.Sector__c.ContractTemplate__c,\n                // outputFormat\n                OUTPUT_FORMAT,\n                // attachToRecords\n                false);\n        }\n        Blob generatedDocument = generatedDocuments.get(applicationId);\n        if (generatedDocument == null) {\n            throw new Mobee.DocumentGenerationException('Error while generating document.');\n        }\n        // Do whatever you want with the Blob...\n    }\n}\n")),(0,o.yg)("h2",{id:"compress-pdf"},"Compress PDF"),(0,o.yg)("p",null,"Mobee provides a feature to compress PDF files, helping to reduce their size. Users can provide either a local file path or a URL to a PDF file, which will then be downloaded and compressed."),(0,o.yg)("h3",{id:"usage"},"Usage"),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Input Parameters")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"File Path or URL"),": The location of the PDF file to be compressed, either as a local path or an online URL."),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Color Image Resolution (default: 120 DPI)"),": Sets the resolution of color images within the PDF. Higher values provide better image quality but result in larger file sizes."),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Grayscale Image Resolution (default: 120 DPI)"),": Controls the resolution of grayscale images, which contain shades of gray but no color. Adjusting this setting affects the clarity of grayscale images."),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"Monochrome Image Resolution (default: 120 DPI)"),": Specifies the resolution for monochrome (black and white) images in the PDF. This impacts the sharpness of text and line art.")),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Important Notes:")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"The default resolution for all image types is set to 120 DPI."),(0,o.yg)("li",{parentName:"ul"},"Higher resolution settings increase image quality but also enlarge the file size."),(0,o.yg)("li",{parentName:"ul"},"Adjust the resolution settings based on your balance between image quality and file size.")),(0,o.yg)("h3",{id:"apex-client-1"},"Apex Client"),(0,o.yg)("p",null,"PDF compression isn't always triggered manually by users. Sometimes, automated processes such as triggers or scheduled jobs need to compress documents. To support these scenarios, Mobee provides an Apex function that allows seamless document compression tailored to specific needs."),(0,o.yg)("p",null,"The function is available in the Mobee package through ",(0,o.yg)("inlineCode",{parentName:"p"},"Mobee.DocumentsApiClient.compressDocument"),"."),(0,o.yg)("p",null,"This Apex function requires four input parameters:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"A list of Salesforce record IDs for the documents to be compressed (or a single URL)."),(0,o.yg)("li",{parentName:"ol"},"Color Image Resolution."),(0,o.yg)("li",{parentName:"ol"},"Grayscale Image Resolution."),(0,o.yg)("li",{parentName:"ol"},"Monochrome Image Resolution.")),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Example Use Case:")),(0,o.yg)("p",null,"In the following example, the document to be compressed is identified by its Salesforce ",(0,o.yg)("strong",{parentName:"p"},"record ID")," or ",(0,o.yg)("strong",{parentName:"p"},"URL"),"."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-java"},"/**\n * @description This class provides functionality to compress PDF invoice files\n * before saving them to Salesforce.\n *\n * @usage Compresses the given PDF blob using specified compression options\n * and saves the compressed version via InvoiceController.\n */\npublic with sharing class InvoiceController {\n\n    /**\n     * @description Compresses a given PDF invoice blob using predefined settings\n     * to reduce file size while maintaining readability.\n     *\n     * @param invoicePdfBlob The original PDF invoice file in Blob format.\n     *\n     * @throws IllegalArgumentException If the provided blob is null or empty.\n     *\n     * @example\n     * Blob pdfBlob = [SELECT Body FROM ContentVersion WHERE Title = 'SampleInvoice'].Body;\n     * InvoiceController.compressInvoice(pdfBlob);\n     */\n    public static void compressInvoice(Blob invoicePdfBlob) {\n        if (invoicePdfBlob == null || invoicePdfBlob.size() == 0) {\n            throw new IllegalArgumentException('The invoice PDF blob cannot be null or empty.');\n        }\n\n        // Define compression settings\n        Map<String, String> compressionOptions = new Map<String, String>{\n            'ColorImageResolution' => '72',  // Set color image resolution to 72 DPI\n            'GrayImageResolution'  => '72',  // Set grayscale image resolution to 72 DPI\n            'MonoImageResolution'  => '72'   // Set monochrome image resolution to 72 DPI\n        };\n\n        try {\n            Blob compressedInvoice = DocumentsApiClient.compressDocument(invoicePdfBlob, compressionOptions);\n            InvoiceController.saveInvoice(compressedInvoice);\n            System.debug('Invoice successfully compressed and saved.');\n        } catch (Exception ex) {\n            System.debug('Error during compression: ' + ex.getMessage());\n            throw new AuraHandledException('Failed to compress the invoice: ' + ex.getMessage());\n        }\n    }\n}\n")),(0,o.yg)("p",null,"This example demonstrates how to efficiently compress and store PDF invoices in Salesforce while maintaining an optimal balance between quality and file size."))}m.isMDXComponent=!0},6478:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/Custom-Headers-Edit-Button-6eb9365e157b88750c019ee02102d54f.png"},1328:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/Custom-Headers-Windows-548e8f4813628620ccf0b426c742459c.png"},5552:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/Custom-Headers-617a6f84b32049bfafc787b2ea172ad0.png"},2730:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/External-Credentials-Page-45469b0c85d5168c046c625ec8dca622.png"},3860:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/External-Credentials-a39415113a818948af6d4075ab172d8d.png"},8540:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/Mobee-Settings-Tab-85314cfee20d395f1da124ffd245db67.png"},8398:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/Mobee-Token-319f6841fcea409d8ed09b4b19c31b43.png"},1416:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/Named-Credentials-af810c26e50cb3c832a75daa434bfaf0.png"},2399:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/Setup-Named-Credential-0f8f134d85c183908ab28a5a25310ff4.png"},2991:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/Token-Reset-040c9881a284a7219262eb6eb1b1aa30.png"},400:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/ajouter_button_action-38573f0fbce30daf6d82c60a65a5f3ae.png"},1028:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/ajouter_button_action2-375cc7bad4d2da77a2999b1a560c7b8b.jpg"},6442:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/document_generator_lwc-bd8b83c8558d69c76a2d67349fa649c1.png"},1831:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/generer_apartir_modele_creer-734a9631d1ef71cbed3a34a5defe2e43.png"},935:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/list_view_button-d39103dd8f46736f611921c4ab5b6f4a.png"},3750:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/prep_word-12c411ca15433fb95f3279136885e1a4.png"},3222:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/prep_word2-59cce1948080f608660f269db1c2b32e.png"},9551:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/prep_word3-132a32c9f4875481177b40ee05f2a360.png"},9850:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/screen_flow_lwc-23aae5911f14bbf6093fe56e040b2506.png"}}]);