"use strict";(self.webpackChunkdocumentation_api=self.webpackChunkdocumentation_api||[]).push([[901],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),d=a,h=u["".concat(s,".").concat(d)]||u[d]||m[d]||i;return n?o.createElement(h,r(r({ref:t},p),{},{components:n})):o.createElement(h,r({ref:t},p))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,r[1]=l;for(var c=2;c<i;c++)r[c]=n[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7233:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var o=n(7462),a=(n(7294),n(3905));const i={},r="Configuration and Usage",l={unversionedId:"documentation-api/Document Generation Module/mobee-document-configuration",id:"documentation-api/Document Generation Module/mobee-document-configuration",title:"Configuration and Usage",description:"User Profile Requirements and Permissions",source:"@site/docs/documentation-api/3 - Document Generation Module/3 - mobee-document-configuration.md",sourceDirName:"documentation-api/3 - Document Generation Module",slug:"/documentation-api/Document Generation Module/mobee-document-configuration",permalink:"/documentation/esp/docs/documentation-api/Document Generation Module/mobee-document-configuration",draft:!1,editUrl:"https://github.com/Mobee-App/documentation/blob/main/docs/documentation-api/3 - Document Generation Module/3 - mobee-document-configuration.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Template Types and Syntax",permalink:"/documentation/esp/docs/documentation-api/Document Generation Module/mobee-document-types"},next:{title:"Funciones admitidas por la comunidad",permalink:"/documentation/esp/docs/documentation-api/Community/Community Supported Features"}},s={},c=[{value:"User Profile Requirements and Permissions",id:"user-profile-requirements-and-permissions",level:2},{value:"Creating a Document Template",id:"creating-a-document-template",level:2},{value:"Generate Documents from Template",id:"generate-documents-from-template",level:2},{value:"Lightning Web Component",id:"lightning-web-component",level:3},{value:"Action Button",id:"action-button",level:3},{value:"List View Button",id:"list-view-button",level:3},{value:"Apex Client",id:"apex-client",level:3}],p={toc:c},u="wrapper";function m(e){let{components:t,...i}=e;return(0,a.kt)(u,(0,o.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"configuration-and-usage"},"Configuration and Usage"),(0,a.kt)("h2",{id:"user-profile-requirements-and-permissions"},"User Profile Requirements and Permissions"),(0,a.kt)("p",null,"To utilize the module, users must meet the following prerequisites:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Possession of a Mobee license."),(0,a.kt)("li",{parentName:"ul"},'Assignment of either the "Mobee User" or "Mobee Administrator" permission set.'),(0,a.kt)("li",{parentName:"ul"},'Activation of the "Flow User" option if needed.')),(0,a.kt)("h2",{id:"creating-a-document-template"},"Creating a Document Template"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Navigate to the ",(0,a.kt)("strong",{parentName:"li"},"Mobee Documents Templates")," Salesforce Tab to initiate the creation of a new template."),(0,a.kt)("li",{parentName:"ol"},'Click on the "',(0,a.kt)("strong",{parentName:"li"},"New"),'" button and furnish a suitable name for the template.')),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Alt text",src:n(9298).Z,width:"1009",height:"553"})),(0,a.kt)("p",null,"After the successful creation of the template, the next step involves associating it with a specific Salesforce object. Follow the steps below:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Access the newly created template by selecting its name from the list."),(0,a.kt)("li",{parentName:"ol"},'Within the initial section, click the "',(0,a.kt)("strong",{parentName:"li"},"Choose Main Object"),'" button located on the right.'),(0,a.kt)("li",{parentName:"ol"},"Utilize the lookup search field to designate the desired main object."),(0,a.kt)("li",{parentName:"ol"},"Opt for a Salesforce field on the selected object to serve as the naming convention for the generated file. Supported types include text fields and formulas. The ",(0,a.kt)("strong",{parentName:"li"},"Name")," field is selected by default.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Sample Image",src:n(1424).Z,width:"1016",height:"509"})),(0,a.kt)("ol",{start:5},(0,a.kt)("li",{parentName:"ol"},'After the selection of the main object and naming field, proceed to upload your Word document template by selecting the "',(0,a.kt)("strong",{parentName:"li"},"Upload"),'" button. Please note that only files with the ',(0,a.kt)("inlineCode",{parentName:"li"},".docx")," extension are supported.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Sample Image",src:n(485).Z,width:"1016",height:"707"})),(0,a.kt)("h2",{id:"generate-documents-from-template"},"Generate Documents from Template"),(0,a.kt)("p",null,"Mobee offers a range of options to facilitate document generation tailored to your specific requirements. The package encompasses pre-built components ready for immediate use, seamlessly integratable into your pages. Moreover, Mobee provides functionalities allowing you to customize your entire document generation processes using Lightning or even Apex."),(0,a.kt)("h3",{id:"lightning-web-component"},"Lightning Web Component"),(0,a.kt)("p",null,"For manual document generation within a screen, Mobee presents a fundamental Lightning Web Component designed to generate documents for the current record based on a specified template ID."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Below are the component parameters:")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Document Generation Lightning Web Component",src:n(379).Z,width:"764",height:"480"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Current Record Id:")," When placed on a record page, this parameter can be left empty, as it automatically detects the ID of the current record.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Multiple Record Ids (Comma Separated):")," This parameter can be left empty when generating unitary documents and will be used for combined document templates later.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Attach to Record:")," A flag indicating whether the user wishes to attach the generated document to the Notes & Attachments of the current record. If unchecked, the document will be automatically downloaded.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Current Object API Name:")," When placed on a record page, this parameter can be left empty, as it automatically detects the object API Name of the current record.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Selected Template Id:")," Informs the component about the template to be used for the generation.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Show Generate Button:")," A flag indicating whether a physical button is desired to trigger the generation. If unchecked, document generation will be triggered upon loading the page containing the component.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Output Format:")," This parameter indicates the desired format for the generated file. Mobee currently supports ",(0,a.kt)("inlineCode",{parentName:"p"},"docx")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"pdf"),"."))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Usage:")),(0,a.kt)("p",null,"This component is suitable for use in both ",(0,a.kt)("strong",{parentName:"p"},'"Record Lightning Pages"')," and ",(0,a.kt)("strong",{parentName:"p"},'"Flow Screens."')," To harness the full capabilities of this component, it is recommended to use it in ",(0,a.kt)("strong",{parentName:"p"},"Flow Screens"),". Leveraging Flow's flexibility enables dynamic fetching of the desired template based on specific search criteria, providing a dynamic parameter to the component, and avoiding the inclusion of parameters in hard text."),(0,a.kt)("p",null,"Here's an example of its usage in a Screen Flow."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Screen Flow LWC",src:n(6584).Z,width:"1114",height:"660"})),(0,a.kt)("h3",{id:"action-button"},"Action Button"),(0,a.kt)("p",null,"The Mobee package seamlessly integrates with Salesforce record pages, providing an out-of-the-box Flow that can be effortlessly added as an action button."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Creating the Action Button:")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Navigate to the object manager and select the object where you want the generation button to be available."),(0,a.kt)("li",{parentName:"ol"},'Go to the "Buttons, Links, and Actions" section and click on the "New Action" button.'),(0,a.kt)("li",{parentName:"ol"},'Choose the "Lightning Web Component" option for the "Action Type," and select "Mobee:documentGeneratorAction" for the "Lightning Web Component."')),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Add Action Button",src:n(8664).Z,width:"512",height:"506"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Adding the Action Button to a Page Layout:")),(0,a.kt)("p",null,'Once the action button is created, follow these steps to add it to a desired "Page Layout."'),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},'Open the "Page Layouts" section from the object manager and select the desired page where you want to add your button.'),(0,a.kt)("li",{parentName:"ol"},'Locate your newly created button in the "Mobile & Lightning Actions" Section.'),(0,a.kt)("li",{parentName:"ol"},'Drag the button and drop it into the "Salesforce Mobile and Lightning Experience Action" section.')),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Sample Image",src:n(3145).Z,width:"512",height:"391"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Utilizing the Added Button:")),(0,a.kt)("p",null,"To utilize the added button, follow these steps:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Navigate to a record of the same object type as the created document template."),(0,a.kt)("li",{parentName:"ol"},'Click the "Generate Document" action button.'),(0,a.kt)("li",{parentName:"ol"},"Select the desired template from the provided selection list."),(0,a.kt)("li",{parentName:"ol"},"The document will be generated and automatically downloaded.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Sample Image",src:n(1838).Z,width:"512",height:"506"})),(0,a.kt)("h3",{id:"list-view-button"},"List View Button"),(0,a.kt)("p",null,"Similar to the aforementioned action button, Mobee extends its functionality by offering a Flow that can be invoked from list view buttons. This feature emphasizes the capability to generate documents for multiple records simultaneously."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Creating a List View Button:")),(0,a.kt)("p",null,"Follow these steps to create the button:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Prepare a template to be used on the desired main object."),(0,a.kt)("li",{parentName:"ol"},"From the Setup screen, select the desired main object."),(0,a.kt)("li",{parentName:"ol"},'Go to the "Buttons, Links, and Actions" section.'),(0,a.kt)("li",{parentName:"ol"},'Click on the top-right "New Button or Link" button.'),(0,a.kt)("li",{parentName:"ol"},"Complete the required Label and Name input fields."),(0,a.kt)("li",{parentName:"ol"},'Select List Button from the "Display Type" and ensure that the "Display Checkboxes (for Multi-Record Selection)" option is checked.'),(0,a.kt)("li",{parentName:"ol"},"In the formula text area, input the following path and replace the template ID with your desired template: ",(0,a.kt)("inlineCode",{parentName:"li"},"/flow/Mobee__ListViewDocumentGenerator?templateId=a057Q000005Yd7BQAS&attachToRecord=false&outputFormat=pdf"))),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"List View Button",src:n(1548).Z,width:"1203",height:"761"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Adding the Button to the List View:")),(0,a.kt)("p",null,"To add the button to the list view, follow these steps:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},'From the "Object Manager", access the "',(0,a.kt)("strong",{parentName:"li"},"List View Button Layout"),'" section.'),(0,a.kt)("li",{parentName:"ol"},'For the list view layout, click the dropdown button on the right and select "Edit."'),(0,a.kt)("li",{parentName:"ol"},'In the List View Editor, find your button in the "Custom Buttons" section and add it to the Selected Buttons List.'),(0,a.kt)("li",{parentName:"ol"},"Click on Save.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Utilizing the Added Button:")),(0,a.kt)("p",null,"To utilize the list view button, follow these steps:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Go to the object list view."),(0,a.kt)("li",{parentName:"ol"},"Select your desired records by clicking on the checkbox on each line."),(0,a.kt)("li",{parentName:"ol"},"Locate your button in the button list in the top actions section."),(0,a.kt)("li",{parentName:"ol"},"Click on the button, which will open the flow in a new page and generate the documents.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Note:"),' This "Custom Button" can also be used for ',(0,a.kt)("strong",{parentName:"p"},"Related List Views"),"."),(0,a.kt)("h3",{id:"apex-client"},"Apex Client"),(0,a.kt)("p",null,"Document generation is not always a user-triggered functionality; at times, there's a need to generate documents from triggers, jobs, and other automated processes. To facilitate this, Mobee provides an Apex function that enables seamless document generation tailored to specific requirements."),(0,a.kt)("p",null,"The function is accessible within the Mobee package by invoking the ",(0,a.kt)("inlineCode",{parentName:"p"},"Mobee.DocumentTemplaterController.generateDocuments")," function."),(0,a.kt)("p",null,"Similar to the Lightning Web Component, this Apex function takes four parameters as input:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"A list of Salesforce record IDs for which documents need to be generated. (It can be a list containing a single ID)"),(0,a.kt)("li",{parentName:"ol"},"The Mobee Document Template ID to be used as the template for the generation."),(0,a.kt)("li",{parentName:"ol"},"The desired output format (",(0,a.kt)("inlineCode",{parentName:"li"},"docx")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"pdf"),")."),(0,a.kt)("li",{parentName:"ol"},"A flag indicating whether to attach the generated file to the given record.")),(0,a.kt)("p",null,"This function returns a ",(0,a.kt)("inlineCode",{parentName:"p"},"Map")," containing the generated file as ",(0,a.kt)("inlineCode",{parentName:"p"},"Blob")," indexed by their respective record IDs."),(0,a.kt)("p",null,"Here's an example of utilizing this Apex function:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Context:")," In this example, the Mobee Template Main Object is the ",(0,a.kt)("inlineCode",{parentName:"p"},"Application__c")," custom object, and the template Id is stored in the ",(0,a.kt)("inlineCode",{parentName:"p"},"ContractTemplate__c")," lookup field, which is on the parent field ",(0,a.kt)("inlineCode",{parentName:"p"},"Sector__c"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"public class DocumentGeneration {\n    @Future(callout=true)\n    public static void generateContract(String applicationId) {\n        String OUTPUT_FORMAT = 'pdf';\n        Application__c application = [SELECT Id, Sector__c.ContractTemplate__c FROM Application__c WHERE Id = :applicationId];\n        if (application.Sector__c.ContractTemplate__c == null) {\n            throw new Mobee.DocumentGenerationException('Template is not defined on this Sector.');\n        }\n        Map<Id, Blob> generatedDocuments;\n        if (Test.isRunningTest()) {\n            generatedDocuments = generateDocumentMock(new List<Id>{applicationId});\n        } else {\n            generatedDocuments = Mobee.DocumentTemplaterController.generateDocuments(\n                // recordsIds\n                new List<String>{applicationId},\n                // templateId\n                application.Sector__c.ContractTemplate__c,\n                // outputFormat\n                OUTPUT_FORMAT,\n                // attachToRecords\n                false);\n        }\n        Blob generatedDocument = generatedDocuments.get(applicationId);\n        if (generatedDocument == null) {\n            throw new Mobee.DocumentGenerationException('Error while generating document.');\n        }\n        // Do whatever you want with the Blob...\n    }\n}\n")))}m.isMDXComponent=!0},8664:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/ajouter_button_action-38573f0fbce30daf6d82c60a65a5f3ae.png"},3145:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/ajouter_button_action2-375cc7bad4d2da77a2999b1a560c7b8b.jpg"},379:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/document_generator_lwc-bd8b83c8558d69c76a2d67349fa649c1.png"},1838:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/generer_apartir_modele_creer-734a9631d1ef71cbed3a34a5defe2e43.png"},1548:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/list_view_button-d39103dd8f46736f611921c4ab5b6f4a.png"},9298:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/prep_word-12c411ca15433fb95f3279136885e1a4.png"},1424:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/prep_word2-59cce1948080f608660f269db1c2b32e.png"},485:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/prep_word3-132a32c9f4875481177b40ee05f2a360.png"},6584:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/screen_flow_lwc-23aae5911f14bbf6093fe56e040b2506.png"}}]);